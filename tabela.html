<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela</title>
    <link rel="stylesheet" href="style.css">

    <!-- Adicione os scripts do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>

    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyB1Ixikn1ZqBnjh3bBvb2OQVAXC0RVJ6TA",
            authDomain: "formulariotest-f41be.firebaseapp.com",
            projectId: "formulariotest-f41be",
            storageBucket: "formulariotest-f41be.firebasestorage.app",
            messagingSenderId: "636885984473",
            appId: "1:636885984473:web:b01cc4da6853b88db50ac8",
            measurementId: "G-BCG54P6VL2"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
</head>

<body>

    <center>
        <table border="2" width="75%">
            <tr>
                <div class="filho-texto">
                    <h1>Formulário de Matricula Escolar</h1>
                    <img src="logotipo-da-escola-primaria-de-livro-desenhado-a-mao_23-2149689287.avif" width="200"
                        height="200" class="textwrap">
                </div>
                <td>
                    <center><b>CAROS PAIS E/OU RESPONSÁVEL</b></center>
                </td>
            </tr>
            <td><br>Bem-vindos ao nosso centro de Admissão Escolar. Por favor, use este formulario para solicitar
                admissão do seu filho à nossa escola. Nós precisamos de informações completas de precisas do estudante,
                portanto certifiquem-se de preencher todos os campos. Formularios de matricula escolar são processados
                dentro de 48 horas. Você recebera um email de confirmação quando nós processarmos sua solicitação.</td>
            <tr>
                <td>
                    <center><b>Dados pessoais</b></center>
                </td>
            </tr>
            <tr>
                <td>
                    <br>
                    <form id="matriculaForm">
                        Nome:
                        <input type="text" size="10" maxlength="40" id="nome" required />
                        Sobrenome:
                        <input type="text" size="10" maxlength="40" id="sobrenome" required />

                        <p>Nível de Escolaridade</p>
                        <select id="nivelEscolaridade" required>
                            <option value="">Selecione</option>
                            <option value="1º Ano">1º Ano</option>
                            <option value="2º Ano">2º Ano</option>
                            <option value="3º Ano">3º Ano</option>
                            <option value="4º Ano">4º Ano</option>
                            <option value="5º Ano">5º Ano</option>
                            <option value="6º Ano">6º Ano</option>
                        </select>
                        <br><br>

                        Data de nascimento:
                        <input type="date" id="dataNascimento" required />

                        Estado:
                        <input type="text" size="10" maxlength="10" id="estado" required />

                        <p>Genero</p>
                        <input type="radio" name="genero" value="masculino" required />
                        Masculino
                        <input type="radio" name="genero" value="feminino" />
                        Feminino
                        <input type="radio" name="genero" value="outro" />
                        Outro<br>

            <tr>
                <td>
                    <center><b>Filiação</b></center>
                </td>

            <tr>
                <td>
                    <br>
                    Nome do pai:
                    <input type="text" size="10" maxlength="10" id="nomePai" required />
                    Nome da mãe:
                    <input type="text" size="10" maxlength="10" id="nomeMae" required />
                </td><br>
            <tr>
                <td>
                    <center><b>Endereço</b></center>
                </td>

            <tr>
                <td>
                    <br>
                    Logradouro:
                    <input type="text" size="12" maxlength="10" id="logradouro" required />
                    Cidade:
                    <input type="text" size="13" maxlength="10" id="cidade" required />

                    Estado:
                    <select id="estadoEndereco" required>
                        <option value="">Selecione</option>
                        <option value="Acre">Acre</option>
                        <option value="São Paulo">São Paulo</option>
                        <option value="Brasília">Brasília</option>
                        <option value="Pará">Pará</option>
                        <option value="Rio Grande do Sul">Rio Grande do Sul</option>
                        <option value="Goiás">Goiás</option>
                    </select>

                    CEP:
                    <input type="text" size="10" maxlength="10" id="cep" required />
                    Telefone Residencial:
                    <input type="tel" size="15" maxlength="15" id="telefoneResidencial" />
                    <br><br>
                    Telefone Celular:
                    <input type="tel" size="15" maxlength="15" id="telefoneCelular" required />
                    Email:
                    <input type="email" size="15" maxlength="30" id="email" required />

            <tr>
                <td>
                    <center><b>Informações Complementares</b></center>
                </td>

            <tr>

            <tr>
                <td>
                    <p>Há alguma informação relacionada ao estudante, que você gostaria que a escola tivesse ciente?</p>
                    <input type="radio" name="infoAdicional" value="sim" id="infoAdicionalSim" />
                    Sim
                    <input type="radio" name="infoAdicional" value="não" id="infoAdicionalNao" checked />
                    Não

                    <p>Você deseja solicitar serviços de transporte para o estudante?</p>
                    <input type="radio" name="transporte" value="sim" id="transporteSim" />
                    Sim
                    <input type="radio" name="transporte" value="não" id="transporteNao" checked />
                    Não

                    <p>O aluno necessita de alguma adaptação especial?</p>
                    <input type="radio" name="adaptacao" value="sim" id="adaptacaoSim" />
                    Sim
                    <input type="radio" name="adaptacao" value="não" id="adaptacaoNao" checked />
                    Não<br>

                    <textarea cols="50" rows="25" name="texto" wrap="soft" readonly>
CLÁUSULA 1ª. A CONTRATADA obriga-se a ministrar na Unidade Escolar, seu estabelecimento
mantido, educação que vise o desenvolvimento harmônico das faculdades físicas, intelectuais,
espirituais e morais do educando, na modalidade presencial, semi-presencial, síncrona ou à
distância, bem como quando autorizado pelos órgãos governamentais, a substituição das
disciplinas presenciais por atividades letivas que utilizem recursos educacionais digitais,
tecnologias da informação e comunicação, ou outros meios convencionais, sempre respeitados o
projeto pedagógico, plano de estudos, programas e currículos da CONTRATADA, e demais normas
da legislação pertinente em vigor, conforme o calendário escolar do período letivo contratado.
Parágrafo Único – A filosofia educacional da CONTRATADA é de natureza diferenciada,
embasada em princípios essencialmente cristãos, como escola confessional e filantrópica
estabelecida nos termos da LDB – Lei nº 9394/96, artigo 19, incisos II, III e § 1º.
</textarea>

                    <p>Declaro que estou ciente dos termos e que devo cumprir as regras do regulamento</p>
                    <input type="checkbox" id="termosAceitos" required /> Li e aceito os termos<br><br>

                    <button type="submit">Enviar</button>
                    <div id="mensagem"></div>
                </td>
            </tr>
            </form>
            </td>
            </tr>
        </table>
    </center>

    <script>
        // Manipulador do formulário
        document.getElementById('matriculaForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Coletar dados do formulário
            const genero = document.querySelector('input[name="genero"]:checked').value;
            const infoAdicional = document.querySelector('input[name="infoAdicional"]:checked').value;
            const transporte = document.querySelector('input[name="transporte"]:checked').value;
            const adaptacao = document.querySelector('input[name="adaptacao"]:checked').value;
            
            const matriculaData = {
                nome: document.getElementById('nome').value,
                sobrenome: document.getElementById('sobrenome').value,
                nivelEscolaridade: document.getElementById('nivelEscolaridade').value,
                dataNascimento: document.getElementById('dataNascimento').value,
                estado: document.getElementById('estado').value,
                genero: genero,
                nomePai: document.getElementById('nomePai').value,
                nomeMae: document.getElementById('nomeMae').value,
                logradouro: document.getElementById('logradouro').value,
                cidade: document.getElementById('cidade').value,
                estadoEndereco: document.getElementById('estadoEndereco').value,
                cep: document.getElementById('cep').value,
                telefoneResidencial: document.getElementById('telefoneResidencial').value,
                telefoneCelular: document.getElementById('telefoneCelular').value,
                email: document.getElementById('email').value,
                infoAdicional: infoAdicional,
                transporte: transporte,
                adaptacao: adaptacao,
                termosAceitos: document.getElementById('termosAceitos').checked,
                dataCadastro: new Date().toISOString()
            };

            // Enviar para o Firestore
            db.collection("matriculas").add(matriculaData)
                .then((docRef) => {
                    document.getElementById('mensagem').innerHTML = "Matrícula enviada com sucesso! ID: " + docRef.id;
                    document.getElementById('matriculaForm').reset();
                })
                .catch((error) => {
                    document.getElementById('mensagem').innerHTML = "Erro ao enviar matrícula: " + error.message;
                });
        });
    </script>
</body>
</html>